<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>G√©nesis Business AI ‚Äî Panel Corporativo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/panelcorp.css" />
</head>

<body>
  <div class="panelcorp-layout">

    <!-- SIDEBAR -->
    <aside class="panelcorp-sidebar" id="panelcorp-sidebar">

      <button id="panelcorp-toggle-btn" aria-label="Colapsar panel">‚ùÆ</button>

   <!-- PERFIL -->
<div class="panelcorp-profile">
  <div class="panelcorp-avatar" id="panel-user-avatar">?</div>

  <div class="panelcorp-profile-info">
    <span class="panelcorp-name" id="panel-user-name">
      Corporaci√≥n
    </span>

    <span class="panelcorp-email" id="panel-user-email">
      cargando‚Ä¶
    </span>
  </div>

  <!-- indicador live (solo visual) -->
  <span class="panelcorp-live-dot" title="Cuenta activa"></span>
</div>


      <!-- NAV -->
      <nav class="panelcorp-nav">

        <button data-view="corp-home" data-label="Inicio">
          <span class="icon">üè†</span>
          <span class="label">Inicio</span>
        </button>

        <button data-view="corp-ia" data-label="IA / Automatizaci√≥n">
          <span class="icon">ü§ñ</span>
          <span class="label">IA / Automatizaci√≥n</span>
        </button>

        <button data-view="corp-whatsapp" data-label="WhatsApp">
          <span class="icon">üí¨</span>
          <span class="label">WhatsApp / Mail</span>
        </button>

        <button data-view="corp-flows" data-label="Flujos">
          <span class="icon">üß†</span>
          <span class="label">Flujos</span>
        </button>

        <button data-view="corp-quotes" data-label="Cotizaciones">
          <span class="icon">üí∞</span>
          <span class="label">Cotizaciones</span>
        </button>

        <button data-view="corp-team" data-label="Equipo">
          <span class="icon">üë•</span>
          <span class="label">Equipo</span>
        </button>

        <button data-view="corp-analytics" data-label="Anal√≠tica">
          <span class="icon">üìà</span>
          <span class="label">Anal√≠tica</span>
        </button>

        <button data-view="corp-subscription" data-label="Suscripci√≥n">
          <span class="icon">üí≥</span>
          <span class="label">Suscripci√≥n</span>
        </button>

        <button data-view="corp-settings" data-label="Configuraci√≥n">
          <span class="icon">‚öôÔ∏è</span>
          <span class="label">Configuraci√≥n</span>
        </button>

      </nav>

      <!-- LOGOUT -->
      <button id="logout-btn" class="panelcorp-logout" data-label="Cerrar sesi√≥n">
        <span class="icon">‚èª</span>
        <span class="label">Cerrar sesi√≥n</span>
      </button>

    </aside>

    <!-- CONTENT -->
    <main class="panelcorp-content">

<!-- HEADER GLOBAL ‚Äî GENESIS -->
<header class="panelcorp-header">
  <div class="panelcorp-header-brand">
    <img
      src="/assets/img/logo-genesis.png"
      alt="G√©nesis Business AI"
      class="panelcorp-header-logo"
    />
    <span class="panelcorp-header-text">
      G√©nesis Business AI
    </span>
  </div>
</header>

<section id="corp-home" class="panelcorp-view active">

  <!-- HEADER -->
  <header class="panelcorp-home-header">
    <h1>Panel Corporativo</h1>
    <p>Estado operativo, alertas y actividad reciente</p>
  </header>

  <!-- RESUMEN (KPIs / ESTADO) -->
  <div class="panelcorp-home-stats">

    <div class="panelcorp-stat-card">
      <span class="panelcorp-stat-icon">üü¢</span>
      <span class="panelcorp-stat-label">G√©nesis</span>
      <span class="panelcorp-stat-value ok" id="home-system-status">Activo</span>
    </div>

    <div class="panelcorp-stat-card">
      <span class="panelcorp-stat-icon">ü§ñ</span>
      <span class="panelcorp-stat-label">IA</span>
      <span class="panelcorp-stat-value pending" id="home-ia-status">Pendiente</span>
    </div>

    <div class="panelcorp-stat-card">
      <span class="panelcorp-stat-icon">üí¨</span>
      <span class="panelcorp-stat-label">Canales</span>
      <span class="panelcorp-stat-value pending" id="home-channels-status">Sin canales</span>
    </div>

    <div class="panelcorp-stat-card">
      <span class="panelcorp-stat-icon">üìà</span>
      <span class="panelcorp-stat-label">Conversaciones (hoy)</span>
      <span class="panelcorp-stat-value" id="home-conv-today">‚Äî</span>
    </div>

  </div>

  <!-- BLOQUE: ALERTAS / NOTIFICACIONES -->
  <div class="panelcorp-ia-card required">
    <h3>üîî Alertas del sistema</h3>
    <p class="panelcorp-ia-desc">
      Avisos que requieren atenci√≥n. Si G√©nesis est√° pausado o no hay canales, aqu√≠ te lo va a gritar.
    </p>

    <div class="panelcorp-ia-fields">

      <!-- Estado general -->
      <div class="panelcorp-field">
        <label>Estado actual</label>
        <div class="panelcorp-static-value" id="home-alert-system">
          ‚Äî 
        </div>
      </div>

      <!-- Canales -->
      <div class="panelcorp-field">
        <label>Canales</label>
        <div class="panelcorp-static-value warning" id="home-alert-channels">
          Sin canales conectados: G√©nesis no puede responder hasta que conectes WhatsApp o Email.
        </div>
      </div>

      <!-- Consumo -->
      <div class="panelcorp-field">
        <label>Consumo del plan</label>
        <div class="panelcorp-static-value" id="home-alert-usage">
          ‚Äî 
        </div>
      </div>

    </div>

    <!-- Lista r√°pida de notificaciones -->
    <ul class="panelcorp-list" id="home-alert-list">
      <li>‚Äî</li>
    </ul>
  </div>

  <!-- BLOQUE: PLAN / CONSUMO (RESUMEN) -->
  <div class="panelcorp-ia-card">
    <h3>üí≥ Plan y consumo</h3>
    <p class="panelcorp-ia-desc">
      Vista r√°pida del plan (lo detallado est√° en Suscripci√≥n).
    </p>

    <div class="panelcorp-ia-fields panelcorp-kpis">

      <div class="panelcorp-field">
        <label>Plan</label>
        <input id="home-plan-name" type="text" value="Corporativo" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Renovaci√≥n</label>
        <input id="home-plan-renewal" type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Incluidas</label>
        <input id="home-plan-included" type="text" value="9,000 / mes" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Usadas</label>
        <input id="home-plan-used" type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Disponibles</label>
        <input id="home-plan-remaining" type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Estado</label>
        <input id="home-plan-health" type="text" value="‚Äî" disabled />
      </div>

    </div>

    <div class="panelcorp-ia-actions">
      <button class="panelcorp-home-cta secondary" data-view-jump="corp-subscription">
        Ver Suscripci√≥n
      </button>
    </div>
  </div>

  <!-- BLOQUE: ACTIVIDAD RECIENTE -->
  <div class="panelcorp-ia-card">
    <h3>üßæ Actividad reciente</h3>
    <p class="panelcorp-ia-desc">
      Registro de eventos del sistema (config, conexiones, intentos, respuestas y escalamiento).
    </p>

    <div class="panelcorp-table" id="home-activity-table">
      <div class="panelcorp-table-row header">
        <span>Hora</span>
        <span>Evento</span>
        <span>Detalle</span>
        <span>Estado</span>
      </div>

      <!-- filas din√°micas -->
      <div class="panelcorp-table-row">
        <span>‚Äî</span>
        <span>Sin actividad</span>
        <span>Conecta un canal para empezar a registrar eventos reales</span>
        <span class="status">‚Äî</span>
      </div>
    </div>
  </div>

  <!-- BLOQUE: ACCIONES R√ÅPIDAS -->
  <div class="panelcorp-ia-card">
    <h3>‚ö° Acciones r√°pidas</h3>
    <p class="panelcorp-ia-desc">
      Atajos a lo importante para dejar el sistema operativo.
    </p>

    <div class="panelcorp-ia-fields">

      <div class="panelcorp-field">
        <label>Conectar canales</label>
        <button class="panelcorp-home-cta" data-view-jump="corp-whatsapp">
          Ir a WhatsApp / Mail
        </button>
      </div>

      <div class="panelcorp-field">
        <label>Configurar IA</label>
        <button class="panelcorp-home-cta" data-view-jump="corp-ia">
          Ir a IA / Automatizaci√≥n
        </button>
      </div>

      <div class="panelcorp-field">
        <label>Ver anal√≠tica</label>
        <button class="panelcorp-home-cta secondary" data-view-jump="corp-analytics">
          Ir a Anal√≠tica
        </button>
      </div>

      <div class="panelcorp-field">
        <label>Control global</label>
        <button class="panelcorp-home-cta secondary" data-view-jump="corp-settings">
          Ir a Configuraci√≥n
        </button>
      </div>

    </div>
  </div>

  <!-- BLOQUE: ESTADO DE PREPARACI√ìN (ONBOARDING PERO REAL) -->
  <div class="panelcorp-ia-card">
    <h3>‚úÖ Estado de preparaci√≥n</h3>
    <p class="panelcorp-ia-desc">
      Checklist autom√°tico (no ‚Äúcrear flujo‚Äù manual): se marca solo conforme completas lo necesario.
    </p>

    <ul class="panelcorp-onboarding-list" id="home-readiness-list">
      <li class="pending" id="ready-channels">Canales conectados (WhatsApp o Email)</li>
      <li class="pending" id="ready-ia">IA configurada y guardada</li>
      <li class="pending" id="ready-active">G√©nesis activo (no pausado)</li>
      <li class="pending" id="ready-test">Primer mensaje de prueba registrado</li>
    </ul>
  </div>

</section>

      <section id="corp-ia" class="panelcorp-view">

  <!-- HEADER -->
  <header class="panelcorp-ia-header">
    <h1>IA / Automatizaci√≥n</h1>
    <p>Configura el cerebro de tu asistente: identidad, reglas y comportamiento.</p>
  </header>

  <!-- 1) IDENTIDAD -->
  <div class="panelcorp-ia-card required">
    <h3>üè¢ Identidad del negocio</h3>
    <p class="panelcorp-ia-desc">
      Base para que tu asistente responda como parte de tu empresa.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Nombre del negocio</label>
        <input id="ia_business_name" type="text" placeholder="Ej. Cl√≠nica Nova" />
      </div>

      <div class="panelcorp-field">
        <label>Giro o tipo de negocio</label>
        <input id="ia_business_type" type="text" placeholder="Ej. Cl√≠nica dental, gym, abarrotes" />
      </div>

      <div class="panelcorp-field">
        <label>Qu√© ofrece (servicios / productos principales)</label>
        <input id="ia_business_offers" type="text" placeholder="Ej. Limpiezas, ortodoncia, blanqueamiento" />
      </div>

      <div class="panelcorp-field">
        <label>Tipo de clientes</label>
        <input id="ia_business_clients" type="text" placeholder="Ej. Familias, empresas, prospectos" />
      </div>
    </div>
  </div>

  <!-- 2) OBJETIVO -->
  <div class="panelcorp-ia-card">
    <h3>üéØ Objetivo del asistente</h3>
    <p class="panelcorp-ia-desc">
      Define qu√© debe priorizar en cada conversaci√≥n.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Prioridad principal</label>
        <select id="ia_primary_goal">
          <option value="informar">Informar</option>
          <option value="capturar">Capturar prospectos</option>
          <option value="agendar">Agendar citas / seguimiento</option>
          <option value="ventas">Preparar ventas / cierre</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>Acci√≥n final esperada</label>
        <select id="ia_expected_outcome">
          <option value="datos">Obtener datos del cliente</option>
          <option value="cita">Dejar cita/seguimiento listo</option>
          <option value="humano">Derivar a un humano</option>
          <option value="info">Resolver con informaci√≥n</option>
        </select>
      </div>
    </div>
  </div>

  <!-- 3) COMUNICACI√ìN -->
  <div class="panelcorp-ia-card">
    <h3>üó£Ô∏è Forma de comunicaci√≥n</h3>
    <p class="panelcorp-ia-desc">
      Ajusta el tono y la iniciativa del asistente.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Tono</label>
        <select id="ia_tone">
          <option value="profesional">Profesional</option>
          <option value="cercano">Cercano</option>
          <option value="formal">Formal</option>
          <option value="relajado">Relajado</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>Nivel de iniciativa</label>
        <select id="ia_initiative">
          <option value="reactivo">Reactivo (solo responde lo que preguntan)</option>
          <option value="guiado">Guiado (hace 1-2 preguntas para avanzar)</option>
          <option value="proactivo">Proactivo (lidera para lograr el objetivo)</option>
        </select>
      </div>
    </div>
  </div>

  <!-- 4) HORARIOS -->
  <div class="panelcorp-ia-card">
    <h3>üïí Horarios y disponibilidad</h3>
    <p class="panelcorp-ia-desc">
      Define cu√°ndo el asistente opera como negocio activo y qu√© hacer fuera de horario.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Respuestas fuera de horario</label>
        <select id="ia_after_hours_mode">
          <option value="normal">Responder normalmente</option>
          <option value="cerrado">Responder ‚ÄúEstamos cerrados‚Äù</option>
          <option value="datos">Tomar datos del cliente</option>
          <option value="agendar">Agendar contacto para despu√©s</option>
          <option value="escalar">Escalar a un humano</option>
          <option value="off">No responder</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>Horario de atenci√≥n (texto)</label>
        <input id="ia_business_hours" type="text" placeholder="Ej. Lun‚ÄìVie 9:00‚Äì18:00, S√°b 9:00‚Äì14:00" />
      </div>

      <div class="panelcorp-field">
        <label>Mensaje fuera de horario</label>
        <input id="ia_after_hours_message" type="text" placeholder="Ej. Gracias, estamos cerrados. Te contactamos ma√±ana." />
      </div>

      <div class="panelcorp-field">
        <label>Datos a pedir fuera de horario</label>
        <input id="ia_after_hours_fields" type="text" placeholder="Ej. Nombre, motivo, tel√©fono, horario preferido" />
      </div>
    </div>
  </div>

  <!-- 5) L√çMITES -->
<div class="panelcorp-ia-card">
  <h3>üö® L√≠mites del asistente</h3>
  <p class="panelcorp-ia-desc">
    Define en qu√© situaciones la IA debe dejar de responder y solicitar apoyo humano.
  </p>

  <div class="panelcorp-ia-fields">
    <div class="panelcorp-field">
      <label>Escalar cuando</label>
      <select id="ia_escalate_when">
        <option value="pide_humano">El cliente pide hablar con una persona</option>
        <option value="no_se_puede">La solicitud requiere atenci√≥n humana</option>
        <option value="enojo">Cliente molesto o conflicto</option>
        <option value="cierre">Quiere cerrar compra o pago</option>
      </select>
    </div>

    <div class="panelcorp-field">
      <label>Informaci√≥n m√≠nima que debe recopilar antes de escalar</label>
      <input
        id="ia_escalation_summary"
        type="text"
        placeholder="Ej. Nombre, motivo de contacto, urgencia"
      />
    </div>
  </div>
</div>

  <!-- 6) RESULTADO ESPERADO -->
  <div class="panelcorp-ia-card">
    <h3>‚úÖ Resultado esperado</h3>
    <p class="panelcorp-ia-desc">
      Qu√© debe intentar lograr antes de cerrar una conversaci√≥n.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Regla principal (1 frase)</label>
        <input id="ia_main_rule" type="text" placeholder="Ej. Captura datos y ofrece agendar antes de escalar." />
      </div>

      <div class="panelcorp-field">
        <label>Reglas extra (opcional)</label>
        <input id="ia_extra_rules" type="text" placeholder="Ej. No inventes precios. Si no sabes, pide datos y escala." />
      </div>

      <div class="panelcorp-field">
        <label>Encendido del asistente</label>
        <select id="ia_enabled">
          <option value="true">Activo</option>
          <option value="false">Inactivo</option>
        </select>
      </div>
    </div>
  </div>

  <!-- 7) COMPORTAMIENTO POR EMAIL -->
<div class="panelcorp-ia-card">
  <h3>üìß Comportamiento por Email</h3>
  <p class="panelcorp-ia-desc">
    Define c√≥mo y cu√°ndo la IA debe usar el correo electr√≥nico como canal de respuesta o seguimiento.
  </p>

  <div class="panelcorp-ia-fields">
    <div class="panelcorp-field">
      <label>¬øCu√°ndo usar email?</label>
      <select id="ia_email_when">
        <option value="nunca">Nunca</option>
        <option value="seguimiento">Para seguimiento posterior</option>
        <option value="fuera_horario">Cuando el contacto ocurre fuera de horario</option>
        <option value="cotizacion">Para enviar cotizaciones o informaci√≥n extensa</option>
        <option value="siempre">Siempre que el cliente deje su correo</option>
      </select>
    </div>

    <div class="panelcorp-field">
      <label>Objetivo del email</label>
      <select id="ia_email_goal">
        <option value="informar">Informar</option>
        <option value="seguimiento">Dar seguimiento</option>
        <option value="recordatorio">Recordar cita o contacto</option>
        <option value="venta">Preparar cierre / venta</option>
      </select>
    </div>

    <div class="panelcorp-field">
      <label>Tono del email</label>
      <select id="ia_email_tone">
        <option value="profesional">Profesional</option>
        <option value="cercano">Cercano</option>
        <option value="formal">Formal</option>
      </select>
    </div>

    <div class="panelcorp-field">
      <label>Qu√© debe incluir el email</label>
      <input
        id="ia_email_content"
        type="text"
        placeholder="Ej. Resumen del contacto, pr√≥ximos pasos, datos del negocio"
      />
    </div>

    <div class="panelcorp-field">
      <label>Regla clave para email</label>
      <input
        id="ia_email_rule"
        type="text"
        placeholder="Ej. No env√≠es email sin consentimiento expl√≠cito del cliente"
      />
    </div>
  </div>
</div>


  <!-- ACCIONES -->
  <div class="panelcorp-ia-actions">
    <button id="ia_save_btn" class="panelcorp-home-cta">
      Guardar configuraci√≥n
    </button>
    <span id="ia_status" class="panelcorp-ia-status"></span>
  </div>

</section>


   <section id="corp-whatsapp" class="panelcorp-view">

  <!-- HEADER -->
  <header class="panelcorp-ia-header">
    <h1>WhatsApp / Mail</h1>
    <p>Conecta y administra los canales por donde responde tu asistente.</p>
  </header>

  <!-- =========================
       WHATSAPP
       ========================= -->
  <div class="panelcorp-ia-card required">
    <h3>üí¨ WhatsApp</h3>
    <p class="panelcorp-ia-desc">
      Vincula el n√∫mero de WhatsApp que usar√° la IA para responder a tus clientes.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Estado del canal</label>
        <select id="wa_status">
          <option value="disconnected">No conectado</option>
          <option value="connected">Conectado</option>
          <option value="error">Error de conexi√≥n</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>N√∫mero vinculado</label>
        <input
          id="wa_number"
          type="text"
          placeholder="Ej. +52 55 1234 5678"
          disabled
        />
      </div>
    </div>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Vinculaci√≥n</label>
        <button class="panelcorp-home-cta">
          Mostrar QR para vincular WhatsApp
        </button>
      </div>

      <div class="panelcorp-field">
        <label>Acciones</label>
        <button class="panelcorp-home-cta secondary">
          Desconectar WhatsApp
        </button>
      </div>
    </div>
  </div>

  <!-- =========================
       EMAIL (GENERAL)
       ========================= -->
  <div class="panelcorp-ia-card">
    <h3>üìß Email</h3>
    <p class="panelcorp-ia-desc">
      Configura el correo desde el cual la IA enviar√° respuestas y seguimientos.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Estado del canal</label>
        <select id="email_status">
          <option value="inactive">Inactivo</option>
          <option value="active">Activo</option>
          <option value="error">Error de configuraci√≥n</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>M√©todo de env√≠o</label>
        <select id="email_provider">
          <option value="smtp" selected>SMTP</option>
          <option value="gmail">Gmail</option>
          <option value="api">Proveedor por API</option>
        </select>
      </div>
    </div>
  </div>

  <!-- =========================
       EMAIL ‚Äî SMTP (VISIBLE POR DEFECTO)
       ========================= -->
  <div class="panelcorp-ia-card">
    <h3>üì§ SMTP</h3>
    <p class="panelcorp-ia-desc">
      Env√≠o de correo mediante servidor SMTP del negocio.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Servidor SMTP</label>
        <input type="text" placeholder="smtp.tuempresa.com" />
      </div>

      <div class="panelcorp-field">
        <label>Puerto</label>
        <input type="text" placeholder="587" />
      </div>

      <div class="panelcorp-field">
        <label>Usuario</label>
        <input type="text" placeholder="contacto@tuempresa.com" />
      </div>

      <div class="panelcorp-field">
  <label>Contrase√±a / Token</label>

  <div class="panel-password-field">
    <input
      type="password"
      placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
    />

    <button
      type="button"
      class="panel-password-toggle"
      aria-label="Mostrar u ocultar contrase√±a"
    >
      <img
        src="/assets/img/eye-closed.svg"
        alt="Mostrar contrase√±a"
      />
    </button>
  </div>
</div>


      <div class="panelcorp-field">
        <label>Nombre del remitente</label>
        <input type="text" placeholder="Atenci√≥n Tu Empresa" />
      </div>
    </div>
  </div>

  <!-- =========================
       EMAIL ‚Äî GMAIL
       ========================= -->
  <div class="panelcorp-ia-card">
    <h3>üì® Gmail</h3>
    <p class="panelcorp-ia-desc">
      Conecta una cuenta de Google mediante autorizaci√≥n segura.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Cuenta de Gmail</label>
        <input type="email" placeholder="tucuenta@gmail.com" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Autorizaci√≥n</label>
        <button class="panelcorp-home-cta">
          Conectar cuenta de Google
        </button>
      </div>
    </div>
  </div>

  <!-- =========================
       EMAIL ‚Äî API
       ========================= -->
  <div class="panelcorp-ia-card">
    <h3>üîë Proveedor por API</h3>
    <p class="panelcorp-ia-desc">
      Servicios profesionales como SendGrid, Mailgun o Resend.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Proveedor</label>
        <input type="text" placeholder="Ej. SendGrid" />
      </div>

      <div class="panelcorp-field">
        <label>API Key</label>
        <input type="password" placeholder="Pega aqu√≠ tu API Key" />
      </div>

      <div class="panelcorp-field">
        <label>Correo remitente validado</label>
        <input type="email" placeholder="contacto@tuempresa.com" />
      </div>
    </div>
  </div>

  <!-- =========================
       ESTADO T√âCNICO
       ========================= -->
  <div class="panelcorp-ia-card">
    <h3>üîå Estado t√©cnico</h3>
    <p class="panelcorp-ia-desc">
      Informaci√≥n del sistema para recepci√≥n y env√≠o de mensajes.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Webhook WhatsApp</label>
        <input type="text" placeholder="Activo" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Webhook Email</label>
        <input type="text" placeholder="Activo" disabled />
      </div>
    </div>
  </div>

<!-- =========================
     ACCIONES ‚Äî GUARDAR CANALES
     ========================= -->
<div class="panelcorp-ia-actions">
  <button id="channels-save-btn" class="panelcorp-home-cta">
    Guardar configuraci√≥n
  </button>

  <span id="channels-status" class="panelcorp-ia-status"></span>
</div>

</section>


      <section id="corp-flows" class="panelcorp-view">

  <!-- HEADER -->
  <header class="panelcorp-ia-header">
    <h1>Flujos</h1>
    <p>Visualiza y organiza las etapas por las que pasa una conversaci√≥n.</p>
  </header>

  <!-- INFO -->
  <div class="panelcorp-ia-card">
    <h3>üîÅ ¬øQu√© son los flujos?</h3>
    <p class="panelcorp-ia-desc">
      Los flujos representan el recorrido interno de una conversaci√≥n.
      No definen reglas nuevas: usan la configuraci√≥n ya hecha en IA / Automatizaci√≥n
      y muestran c√≥mo avanza cada contacto por etapas.
    </p>
  </div>

  <!-- FLUJO BASE -->
  <div class="panelcorp-ia-card required">
    <h3>üìç Flujo principal</h3>
    <p class="panelcorp-ia-desc">
      Orden est√°ndar que sigue la IA desde el primer mensaje hasta el cierre o escalamiento.
    </p>

    <div class="panelcorp-ia-fields">

      <div class="panelcorp-field">
        <label>Inicio</label>
        <input type="text" value="Mensaje entrante del cliente" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Atenci√≥n IA</label>
        <input type="text" value="Responder seg√∫n identidad, tono y objetivo" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Avance</label>
        <input type="text" value="Captura de datos / Informaci√≥n / Seguimiento" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Decisi√≥n</label>
        <input type="text" value="Continuar IA o escalar a humano" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Cierre</label>
        <input type="text" value="Conversaci√≥n resuelta o derivada" disabled />
      </div>

    </div>
  </div>

  <!-- ESTADOS -->
  <div class="panelcorp-ia-card">
    <h3>üìä Estados posibles</h3>
    <p class="panelcorp-ia-desc">
      Estados internos usados para seguimiento y m√©tricas (no editables).
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <input type="text" value="Activo" disabled />
      </div>
      <div class="panelcorp-field">
        <input type="text" value="En seguimiento" disabled />
      </div>
      <div class="panelcorp-field">
        <input type="text" value="Escalado a humano" disabled />
      </div>
      <div class="panelcorp-field">
        <input type="text" value="Cerrado" disabled />
      </div>
    </div>
  </div>

  <!-- NOTA -->
  <div class="panelcorp-ia-card">
    <p class="panelcorp-ia-desc">
      Las conversaciones reales se visualizan en WhatsApp y Email.
      Este panel solo define el recorrido interno que usa la IA para operar.
    </p>
  </div>

</section>


 <section id="corp-quotes" class="panelcorp-view">

  <!-- HEADER -->
  <header class="panelcorp-ia-header">
    <h1>Cotizaciones</h1>
    <p>
      Configura la fuente desde la cual G√©nesis genera cotizaciones autom√°ticas.
      Aqu√≠ no se definen precios manuales.
    </p>
  </header>

  <!-- INFO -->
  <div class="panelcorp-ia-card">
    <h3>‚ÑπÔ∏è ¬øC√≥mo funcionan las cotizaciones?</h3>
    <p class="panelcorp-ia-desc">
      G√©nesis utiliza un cat√°logo interno para calcular precios y genera la cotizaci√≥n
      autom√°ticamente para el cliente, incluyendo una leyenda legal.
    </p>
  </div>

  <!-- CAT√ÅLOGO CLIENTES -->
  <div class="panelcorp-ia-card">
    <h3>üìÑ Cat√°logo visible para clientes</h3>
    <p class="panelcorp-ia-desc">
      Este cat√°logo se comparte cuando un cliente solicita ver productos o servicios.
      Puedes usar un enlace p√∫blico o subir un PDF.
    </p>

    <div class="panelcorp-ia-fields">

      <div class="panelcorp-field">
        <label>Link p√∫blico al cat√°logo (opcional)</label>
        <input type="url" placeholder="https://tusitio.com/catalogo" />
      </div>

      <!-- PDF CLIENTES -->
      <div class="panelcorp-field">
        <div class="panelcorp-file-card" tabindex="0">
          <input
            type="file"
            accept="application/pdf"
            id="catalog_public_pdf"
            hidden
          />
          <div class="panelcorp-file-content">
            <strong>Subir cat√°logo en PDF</strong>
            <span class="panelcorp-file-hint">
              Haz clic para subir archivo (PDF)
            </span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- CAT√ÅLOGO INTERNO -->
  <div class="panelcorp-ia-card required">
    <h3>üß† Cat√°logo interno para cotizaciones</h3>
    <p class="panelcorp-ia-desc">
      Este archivo se usa internamente para calcular precios.
      No se comparte con el cliente.
    </p>

    <div class="panelcorp-ia-fields">

      <!-- PDF INTERNO -->
      <div class="panelcorp-field">
        <div class="panelcorp-file-card" tabindex="0">
          <input
            type="file"
            accept="application/pdf"
            id="catalog_internal_pdf"
            hidden
          />
          <div class="panelcorp-file-content">
            <strong>Subir cat√°logo interno (PDF)</strong>
            <span class="panelcorp-file-hint">
              Haz clic para subir archivo (PDF)
            </span>
          </div>
        </div>
      </div>

      <!-- PLANTILLA -->
      <div class="panelcorp-field">
        <label>Plantilla recomendada</label>
        <div class="panelcorp-file-secondary">
          Descargar cat√°logo base
        </div>
      </div>

    </div>
  </div>

  <!-- LEYENDA -->
  <div class="panelcorp-ia-card">
    <h3>‚öñÔ∏è Leyenda incluida en todas las cotizaciones</h3>
    <p class="panelcorp-ia-desc">
      Este texto se agrega autom√°ticamente al final de cada cotizaci√≥n.
      No es editable desde el panel.
    </p>

    <div class="panelcorp-field">
      <input
        type="text"
        disabled
        value="Esta cotizaci√≥n es de car√°cter informativo y ha sido generada de forma autom√°tica. Los precios, condiciones y disponibilidad est√°n sujetos a validaci√≥n y confirmaci√≥n final por un asesor autorizado."
      />
    </div>
  </div>

  <!-- ESTADO -->
  <div class="panelcorp-ia-card">
    <h3>üîå Estado de cotizaciones autom√°ticas</h3>
    <p class="panelcorp-ia-desc">
      Puedes desactivar temporalmente la generaci√≥n autom√°tica de cotizaciones.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Estado</label>
        <select>
          <option value="active">Activo</option>
          <option value="inactive">Desactivado</option>
        </select>
      </div>
    </div>
  </div>

  <!-- GUARDAR -->
  <div class="panelcorp-ia-actions">
    <button class="panelcorp-home-cta">
      Guardar configuraci√≥n de cotizaciones
    </button>
  </div>

</section>


<section id="corp-team" class="panelcorp-view">

  <!-- HEADER -->
  <header class="panelcorp-ia-header">
    <h1>Equipo</h1>
    <p>
      Define a qu√© personas G√©nesis debe escalar conversaciones cuando se requiere
      atenci√≥n humana. Este panel solo es visible para el administrador.
    </p>
  </header>

  <!-- INFO GENERAL -->
  <div class="panelcorp-ia-card">
    <h3>‚ÑπÔ∏è ¬øC√≥mo funciona el escalamiento?</h3>
    <p class="panelcorp-ia-desc">
      Cuando la IA detecta que una conversaci√≥n requiere atenci√≥n humana,
      G√©nesis la env√≠a autom√°ticamente a los contactos configurados aqu√≠,
      seg√∫n el tipo de solicitud y el horario.
    </p>
  </div>

  <!-- ADMIN PRINCIPAL -->
  <div class="panelcorp-ia-card required">
    <h3>üëë Administrador de la cuenta</h3>
    <p class="panelcorp-ia-desc">
      Este es el propietario de la cuenta (quien realiz√≥ el pago).
      Siempre recibe escalamiento y no puede eliminarse.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Nombre</label>
        <input type="text" value="Alejandro" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Contacto</label>
        <input type="text" value="alejandro@email.com" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Rol</label>
        <input type="text" value="Administrador" disabled />
      </div>
    </div>
  </div>

  <!-- CONTACTO EXISTENTE -->
  <div class="panelcorp-ia-card">
    <h3>üë§ Contacto de escalamiento</h3>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Nombre</label>
        <input type="text" value="Ventas A" disabled />
      </div>

      <div class="panelcorp-field">
        <label>WhatsApp o Email</label>
        <input type="text" value="+52 55 1234 5678" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Tipo de atenci√≥n</label>
        <input type="text" value="Ventas" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Horario</label>
        <input type="text" value="Lun‚ÄìVie 9:00‚Äì18:00" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Estado</label>
        <input type="text" value="Activo" disabled />
      </div>
    </div>

    <!-- ACCI√ìN DEL CARD -->
    <div class="panelcorp-ia-actions">
      <button class="panelcorp-home-cta danger">
        Eliminar contacto
      </button>
    </div>
  </div>

  <!-- AGREGAR CONTACTO -->
  <div class="panelcorp-ia-card">
    <h3>‚ûï Agregar contacto de escalamiento</h3>
    <p class="panelcorp-ia-desc">
      Este contacto recibir√° conversaciones cuando G√©nesis escale una solicitud.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Nombre</label>
        <input type="text" placeholder="Ej. Ventas turno ma√±ana" />
      </div>

      <div class="panelcorp-field">
        <label>WhatsApp o Email</label>
        <input type="text" placeholder="+52 55 0000 0000 o correo@empresa.com" />
      </div>

      <div class="panelcorp-field">
        <label>Tipo de atenci√≥n</label>
        <select>
          <option value="ventas">Ventas</option>
          <option value="soporte">Soporte</option>
          <option value="citas">Citas</option>
          <option value="general">General</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>Horario (opcional)</label>
        <input type="text" placeholder="Ej. Lun‚ÄìVie 9:00‚Äì18:00" />
      </div>
    </div>

    <!-- ACCI√ìN DEL CARD -->
    <div class="panelcorp-ia-actions">
      <button class="panelcorp-home-cta">
        Agregar contacto
      </button>
    </div>
  </div>

  <!-- ESTADO GLOBAL -->
  <div class="panelcorp-ia-card">
    <h3>ü§ù Escalamiento humano</h3>
    <p class="panelcorp-ia-desc">
      Controla si G√©nesis puede escalar conversaciones a personas.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Estado</label>
        <select>
          <option value="on">Activo</option>
          <option value="off">Desactivado</option>
        </select>
      </div>
    </div>
  </div>

  <!-- GUARDAR GLOBAL -->
  <div class="panelcorp-ia-actions">
    <button class="panelcorp-home-cta">
      Guardar configuraci√≥n de escalamiento
    </button>
    <span class="panelcorp-ia-status"></span>
  </div>

</section>

<section id="corp-analytics" class="panelcorp-view">

  <!-- HEADER -->
  <header class="panelcorp-ia-header">
    <h1>Anal√≠tica</h1>
    <p>M√©tricas reales de uso y desempe√±o de G√©nesis.</p>
  </header>

  <!-- INFO GENERAL -->
  <div class="panelcorp-ia-card">
    <h3>üìä ¬øQu√© muestra este panel?</h3>
    <p class="panelcorp-ia-desc">
      Anal√≠tica refleja el comportamiento real de las conversaciones atendidas por G√©nesis.
      Aqu√≠ puedes ver volumen, estados, escalamiento y cierres.
      Este panel no modifica reglas ni flujos.
    </p>
  </div>

  <!-- RESUMEN GENERAL (KPIs) -->
  <div class="panelcorp-ia-card required">
    <h3>üìà Resumen general</h3>
    <p class="panelcorp-ia-desc">
      Actividad total registrada en el sistema.
    </p>

    <div class="panelcorp-ia-fields panelcorp-kpis">

      <div class="panelcorp-field">
        <label>Conversaciones totales</label>
        <input id="kpi-total" type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Atendidas por IA</label>
        <input id="kpi-ia" type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Escaladas a humano</label>
        <input id="kpi-human" type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Conversaciones cerradas</label>
        <input id="kpi-closed" type="text" value="‚Äî" disabled />
      </div>

    </div>
  </div>

  <!-- GR√ÅFICA GENERAL -->
  <div class="panelcorp-ia-card">
    <h3>üìâ Evoluci√≥n de conversaciones</h3>
    <p class="panelcorp-ia-desc">
      Volumen de conversaciones a lo largo del tiempo.
    </p>

    <div class="panelcorp-chart-container">
      <canvas id="chart-conversations"></canvas>
    </div>
  </div>

  <!-- AVANCE POR FLUJO -->
  <div class="panelcorp-ia-card">
    <h3>üîÅ Avance por etapas del flujo</h3>
    <p class="panelcorp-ia-desc">
      Distribuci√≥n de conversaciones seg√∫n la etapa actual.
    </p>

    <div class="panelcorp-ia-fields">

      <div class="panelcorp-field">
        <label>Inicio</label>
        <input id="flow-start" type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Atenci√≥n IA</label>
        <input id="flow-ia" type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Seguimiento</label>
        <input id="flow-followup" type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Decisi√≥n</label>
        <input id="flow-decision" type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Cierre</label>
        <input id="flow-close" type="text" value="‚Äî" disabled />
      </div>

    </div>
  </div>

  <!-- GR√ÅFICA POR ESTADOS -->
  <div class="panelcorp-ia-card">
    <h3>üìå Estados de conversaciones</h3>
    <p class="panelcorp-ia-desc">
      Distribuci√≥n actual por estado interno.
    </p>

    <div class="panelcorp-chart-container">
      <canvas id="chart-status"></canvas>
    </div>
  </div>

  <!-- NOTA FINAL -->
  <div class="panelcorp-ia-card">
    <p class="panelcorp-ia-desc">
      Los datos se generan a partir de la actividad real en WhatsApp y Email.
      Este panel sirve para an√°lisis, decisiones estrat√©gicas y optimizaci√≥n continua.
    </p>
  </div>

</section>


<section id="corp-subscription" class="panelcorp-view">

  <!-- HEADER -->
  <header class="panelcorp-ia-header">
    <h1>Suscripci√≥n</h1>
    <p>
      Consulta tu plan activo, consumo de conversaciones, pagos y opciones de renovaci√≥n.
    </p>
  </header>

  <!-- INFO GENERAL -->
  <div class="panelcorp-ia-card">
    <h3>‚ÑπÔ∏è ¬øPara qu√© sirve este panel?</h3>
    <p class="panelcorp-ia-desc">
      Este panel te permite ver el estado de tu suscripci√≥n, cu√°ntas conversaciones
      ha procesado G√©nesis y administrar pagos o ampliaciones de capacidad.
      No modifica la configuraci√≥n de la IA ni los flujos.
    </p>
  </div>

  <!-- PLAN ACTUAL -->
  <div class="panelcorp-ia-card required">
    <h3>üì¶ Plan activo</h3>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Plan</label>
        <input type="text" value="Corporativo" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Precio mensual</label>
        <input type="text" value="$5,999 MXN" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Estado</label>
        <input type="text" value="Activo" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Renovaci√≥n</label>
        <input type="text" value="Autom√°tica" disabled />
      </div>
    </div>
  </div>

  <!-- CONSUMO DE CONVERSACIONES -->
  <div class="panelcorp-ia-card">
    <h3>üí¨ Consumo de conversaciones</h3>
    <p class="panelcorp-ia-desc">
      Las conversaciones representan el uso real de la IA.
      Cada interacci√≥n completa consume capacidad del plan.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Conversaciones incluidas</label>
        <input type="text" value="9,000 / mes" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Conversaciones usadas</label>
        <input type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Disponibles</label>
        <input type="text" value="‚Äî" disabled />
      </div>

      <div class="panelcorp-field">
        <label>Estado de consumo</label>
        <input type="text" value="Normal" disabled />
      </div>
    </div>
  </div>

  <!-- AVISOS -->
  <div class="panelcorp-ia-card">
    <h3>üîî Notificaciones autom√°ticas</h3>
    <p class="panelcorp-ia-desc">
      G√©nesis env√≠a avisos cuando el consumo se acerca al l√≠mite del plan.
    </p>

    <ul class="panelcorp-list">
      <li>Aviso al 70% de consumo</li>
      <li>Aviso al 90% de consumo</li>
      <li>Aviso al llegar al l√≠mite</li>
      <li>Continuidad garantizada con recarga o renovaci√≥n</li>
    </ul>
  </div>

  <!-- RECARGA DE CAPACIDAD -->
  <div class="panelcorp-ia-card">
    <h3>‚ûï Ampliar capacidad</h3>
    <p class="panelcorp-ia-desc">
      Si superas el l√≠mite de tu plan, puedes ampliar la capacidad sin perder servicio.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <button class="panelcorp-home-cta secondary">
          Recargar conversaciones
        </button>
      </div>

      <div class="panelcorp-field">
        <button class="panelcorp-home-cta secondary">
          Solicitar ampliaci√≥n de plan
        </button>
      </div>
    </div>
  </div>

  <!-- QU√â INCLUYE -->
  <div class="panelcorp-ia-card">
    <h3>‚úÖ Qu√© incluye tu plan</h3>
    <ul class="panelcorp-list">
      <li>Atenci√≥n autom√°tica por WhatsApp</li>
      <li>Seguimiento por WhatsApp y Email</li>
      <li>Cotizaciones autom√°ticas</li>
      <li>Escalamiento humano configurable</li>
      <li>Gesti√≥n de equipo</li>
      <li>Anal√≠tica y m√©tricas</li>
    </ul>
  </div>

  <!-- HISTORIAL DE PAGOS -->
  <div class="panelcorp-ia-card">
    <h3>üí≥ Historial de pagos</h3>

    <div class="panelcorp-table">
      <div class="panelcorp-table-row header">
        <span>Fecha</span>
        <span>Concepto</span>
        <span>Monto</span>
        <span>Estado</span>
      </div>

      <div class="panelcorp-table-row">
        <span>01/01/2026</span>
        <span>Plan Corporativo</span>
        <span>$5,999 MXN</span>
        <span class="status active">Pagado</span>
      </div>

      <div class="panelcorp-table-row">
        <span>01/12/2025</span>
        <span>Plan Corporativo</span>
        <span>$5,999 MXN</span>
        <span class="status active">Pagado</span>
      </div>
    </div>
  </div>

  <!-- ADMINISTRAR SUSCRIPCI√ìN -->
  <div class="panelcorp-ia-card">
    <h3>‚öôÔ∏è Administrar suscripci√≥n</h3>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <button class="panelcorp-home-cta secondary">
          Cambiar m√©todo de pago
        </button>
      </div>

      <div class="panelcorp-field">
        <button class="panelcorp-home-cta danger">
          Cancelar suscripci√≥n
        </button>
      </div>
    </div>
  </div>

</section>

<section id="corp-settings" class="panelcorp-view">

  <!-- HEADER -->
  <header class="panelcorp-ia-header">
    <h1>Configuraci√≥n</h1>
    <p>Seguridad, control global y acciones de cuenta.</p>
  </header>

  <!-- 1) ESTADO GLOBAL -->
  <div class="panelcorp-ia-card required">
    <h3>üü¢ Estado general del sistema</h3>
    <p class="panelcorp-ia-desc">
      Pausa o reactiva G√©nesis completo sin borrar configuraciones. Al pausar, la IA deja de responder en todos los canales.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Estado de G√©nesis</label>
        <select id="settings_system_enabled">
          <option value="true">Activo</option>
          <option value="false">Pausado</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>Comportamiento al pausar</label>
        <input
          type="text"
          value="La IA no responde. Configuraciones y conexiones se conservan."
          disabled
        />
      </div>
    </div>

    <div class="panelcorp-ia-actions">
      <button id="settings_system_save" class="panelcorp-home-cta">
        Guardar estado
      </button>
      <span id="settings_system_status" class="panelcorp-ia-status"></span>
    </div>
  </div>

  <!-- 2) SEGURIDAD -->
  <div class="panelcorp-ia-card">
    <h3>üîê Seguridad</h3>
    <p class="panelcorp-ia-desc">
      Cambia tu contrase√±a para proteger el acceso al panel.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Contrase√±a actual</label>
        <div class="panel-password-field">
          <input id="settings_current_password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
          <button type="button" class="panel-password-toggle" data-target="settings_current_password" aria-label="Mostrar u ocultar contrase√±a">
            <img src="/assets/img/eye-closed.svg" alt="Mostrar contrase√±a" />
          </button>
        </div>
      </div>

      <div class="panelcorp-field">
        <label>Nueva contrase√±a</label>
        <div class="panel-password-field">
          <input id="settings_new_password" type="password" minlength="8" placeholder="M√≠nimo 8 caracteres" />
          <button type="button" class="panel-password-toggle" data-target="settings_new_password" aria-label="Mostrar u ocultar contrase√±a">
            <img src="/assets/img/eye-closed.svg" alt="Mostrar contrase√±a" />
          </button>
        </div>
      </div>

      <div class="panelcorp-field">
        <label>Confirmar nueva contrase√±a</label>
        <div class="panel-password-field">
          <input id="settings_confirm_password" type="password" minlength="8" placeholder="Repite la nueva contrase√±a" />
          <button type="button" class="panel-password-toggle" data-target="settings_confirm_password" aria-label="Mostrar u ocultar contrase√±a">
            <img src="/assets/img/eye-closed.svg" alt="Mostrar contrase√±a" />
          </button>
        </div>
      </div>
    </div>

    <div class="panelcorp-ia-actions">
      <button id="settings_change_password" class="panelcorp-home-cta">
        Cambiar contrase√±a
      </button>
      <span id="settings_password_status" class="panelcorp-ia-status"></span>
    </div>
  </div>

  <!-- 3) SESIONES -->
  <div class="panelcorp-ia-card">
    <h3>üßæ Sesiones</h3>
    <p class="panelcorp-ia-desc">
      Si crees que alguien m√°s tiene acceso, cierra todas las sesiones activas.
    </p>

    <div class="panelcorp-ia-actions">
      <!-- SOLO UN BOT√ìN (como pediste) -->
      <button id="settings_logout_all" class="panelcorp-home-cta secondary">
        Cerrar sesi√≥n en todos los dispositivos
      </button>
      <span id="settings_logout_all_status" class="panelcorp-ia-status"></span>
    </div>
  </div>

  <!-- 4) FALLBACKS / BLOQUEOS -->
  <div class="panelcorp-ia-card">
    <h3>üß© Reglas de seguridad del sistema</h3>
    <p class="panelcorp-ia-desc">
      Define qu√© debe hacer G√©nesis cuando falte una conexi√≥n (WhatsApp o Email).
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Si WhatsApp NO est√° conectado</label>
        <select id="settings_wa_disconnected_mode">
          <option value="no_respond">No responder</option>
          <option value="pause_system">Pausar G√©nesis autom√°ticamente</option>
          <option value="log_only">Solo registrar intentos</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>Si Email NO est√° configurado</label>
        <select id="settings_email_disconnected_mode">
          <option value="no_send">No enviar emails</option>
          <option value="pause_system">Pausar G√©nesis autom√°ticamente</option>
          <option value="log_only">Solo registrar intentos</option>
        </select>
      </div>

      <div class="panelcorp-field">
  <label>Si NO hay ning√∫n canal disponible</label>

  <div class="panelcorp-static-value warning">
    G√©nesis se pausa autom√°ticamente hasta que se conecte al menos un canal
    (WhatsApp o Email).
  </div>
</div>


    <div class="panelcorp-ia-actions">
      <button id="settings_fallbacks_save" class="panelcorp-home-cta">
        Guardar reglas
      </button>
      <span id="settings_fallbacks_status" class="panelcorp-ia-status"></span>
    </div>
  </div>

  <!-- 5) ELIMINAR CUENTA -->
  <div class="panelcorp-ia-card">
    <h3>‚ö†Ô∏è Eliminar cuenta</h3>
    <p class="panelcorp-ia-desc">
      Esta acci√≥n elimina la cuenta y sus configuraciones. No es reversible. El mes pagado no se reembolsa.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Confirmaci√≥n</label>
        <input
          id="settings_delete_confirm"
          type="text"
          placeholder='Escribe ELIMINAR para confirmar'
        />
      </div>

      <div class="panelcorp-field">
        <label>Contrase√±a</label>
        <div class="panel-password-field">
          <input id="settings_delete_password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
          <button type="button" class="panel-password-toggle" data-target="settings_delete_password" aria-label="Mostrar u ocultar contrase√±a">
            <img src="/assets/img/eye-closed.svg" alt="Mostrar contrase√±a" />
          </button>
        </div>
      </div>
    </div>

    <div class="panelcorp-ia-actions">
      <button id="settings_delete_account" class="panelcorp-home-cta danger">
        Eliminar cuenta definitivamente
      </button>
      <span id="settings_delete_status" class="panelcorp-ia-status"></span>
    </div>
  </div>

</section>

    </main>
  </div>

<!-- =========================
     MODAL ‚Äî CREAR CONTRASE√ëA (POST-PAGO)
     ========================= -->
<div id="create-password-modal" class="modal-overlay" hidden>
  <div class="modal-card">

    <h2>Crear contrase√±a</h2>
    <p>Por seguridad, crea tu contrase√±a para acceder a tu panel.</p>

    <form id="create-password-form">

      <!-- NUEVA CONTRASE√ëA -->
      <div class="modal-field">
        <label>Nueva contrase√±a</label>

        <div class="modal-password-field">
          <input
            type="password"
            id="new-password"
            minlength="8"
            required
            placeholder="M√≠nimo 8 caracteres"
          />

          <button
            type="button"
            class="modal-password-toggle"
            data-target="new-password"
            aria-label="Mostrar u ocultar contrase√±a"
          >
            <img
              src="/assets/img/eye-closed.svg"
              alt="Mostrar contrase√±a"
            />
          </button>
        </div>
      </div>

      <!-- CONFIRMAR CONTRASE√ëA -->
      <div class="modal-field">
        <label>Confirmar contrase√±a</label>

        <div class="modal-password-field">
          <input
            type="password"
            id="confirm-password"
            minlength="8"
            required
            placeholder="Repite la contrase√±a"
          />

          <button
            type="button"
            class="modal-password-toggle"
            data-target="confirm-password"
            aria-label="Mostrar u ocultar contrase√±a"
          >
            <img
              src="/assets/img/eye-closed.svg"
              alt="Mostrar contrase√±a"
            />
          </button>
        </div>
      </div>

      <!-- ERROR -->
      <p id="create-password-error" class="modal-error" style="display:none;"></p>

      <!-- SUBMIT -->
      <div class="modal-actions">
        <button type="submit" class="btn-primary">
          Guardar contrase√±a
        </button>
      </div>

    </form>
  </div>
</div>

<!-- =========================
     MODAL ‚Äî VINCULAR WHATSAPP (QR)
     ========================= -->
<div id="whatsapp-qr-modal" class="modal-overlay" hidden>
  <div class="modal-card">

    <h2>Vincular WhatsApp</h2>
    <p>
      Escanea este c√≥digo QR desde el WhatsApp de tu negocio para conectar el asistente.
    </p>

    <!-- QR -->
    <div class="modal-qr-container">
      <!-- Aqu√≠ se inyectar√° el QR desde backend -->
      <div class="modal-qr-placeholder">
        QR no disponible
      </div>
    </div>

    <!-- ESTADO -->
    <p id="whatsapp-qr-status" class="modal-status">
      Esperando conexi√≥n‚Ä¶
    </p>

    <!-- ACCIONES -->
    <div class="modal-actions">
      <button
        type="button"
        class="btn-secondary"
        data-close-modal
      >
        Cerrar
      </button>
    </div>

  </div>
</div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/panelcorp.js"></script>
</body>
</html>
