<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>G√©nesis Business AI ‚Äî Panel Corporativo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/panelcorp.css" />
</head>

<body>
  <div class="panelcorp-layout">

    <!-- SIDEBAR -->
    <aside class="panelcorp-sidebar" id="panelcorp-sidebar">

      <button id="panelcorp-toggle-btn" aria-label="Colapsar panel">‚ùÆ</button>

   <!-- PERFIL -->
<div class="panelcorp-profile">
  <div class="panelcorp-avatar" id="panel-user-avatar">?</div>

  <div class="panelcorp-profile-info">
    <span class="panelcorp-name" id="panel-user-name">
      Corporaci√≥n
    </span>

    <span class="panelcorp-email" id="panel-user-email">
      cargando‚Ä¶
    </span>
  </div>

  <!-- indicador live (solo visual) -->
  <span class="panelcorp-live-dot" title="Cuenta activa"></span>
</div>


      <!-- NAV -->
      <nav class="panelcorp-nav">

        <button data-view="corp-home" data-label="Inicio">
          <span class="icon">üè†</span>
          <span class="label">Inicio</span>
        </button>

        <button data-view="corp-ia" data-label="IA / Automatizaci√≥n">
          <span class="icon">ü§ñ</span>
          <span class="label">IA / Automatizaci√≥n</span>
        </button>

        <button data-view="corp-whatsapp" data-label="WhatsApp">
          <span class="icon">üí¨</span>
          <span class="label">WhatsApp / Mail</span>
        </button>

        <button data-view="corp-flows" data-label="Flujos">
          <span class="icon">üß†</span>
          <span class="label">Flujos</span>
        </button>

        <button data-view="corp-quotes" data-label="Cotizaciones">
          <span class="icon">üí∞</span>
          <span class="label">Cotizaciones</span>
        </button>

        <button data-view="corp-team" data-label="Equipo">
          <span class="icon">üë•</span>
          <span class="label">Equipo</span>
        </button>

        <button data-view="corp-analytics" data-label="Anal√≠tica">
          <span class="icon">üìà</span>
          <span class="label">Anal√≠tica</span>
        </button>

        <button data-view="corp-subscription" data-label="Suscripci√≥n">
          <span class="icon">üí≥</span>
          <span class="label">Suscripci√≥n</span>
        </button>

        <button data-view="corp-settings" data-label="Configuraci√≥n">
          <span class="icon">‚öôÔ∏è</span>
          <span class="label">Configuraci√≥n</span>
        </button>

      </nav>

      <!-- LOGOUT -->
      <button id="logout-btn" class="panelcorp-logout" data-label="Cerrar sesi√≥n">
        <span class="icon">‚èª</span>
        <span class="label">Cerrar sesi√≥n</span>
      </button>

    </aside>

    <!-- CONTENT -->
    <main class="panelcorp-content">

<!-- HEADER GLOBAL ‚Äî GENESIS -->
<header class="panelcorp-header">
  <div class="panelcorp-header-brand">
    <img
      src="/assets/img/logo-genesis.png"
      alt="G√©nesis Business AI"
      class="panelcorp-header-logo"
    />
    <span class="panelcorp-header-text">
      G√©nesis Business AI
    </span>
  </div>
</header>

     <section id="corp-home" class="panelcorp-view active">

  <!-- T√çTULO -->
  <header class="panelcorp-home-header">
    <h1>Panel Corporativo</h1>
    <p>Estado general del sistema</p>
  </header>

  <!-- ESTADO GENERAL -->
  <div class="panelcorp-home-stats">

    <div class="panelcorp-stat-card">
      <span class="panelcorp-stat-icon">ü§ñ</span>
      <span class="panelcorp-stat-label">IA</span>
      <span class="panelcorp-stat-value pending">Pendiente</span>
    </div>

    <div class="panelcorp-stat-card">
      <span class="panelcorp-stat-icon">üí¨</span>
      <span class="panelcorp-stat-label">WhatsApp / Mail</span>
      <span class="panelcorp-stat-value pending">No conectado</span>
    </div>

    <div class="panelcorp-stat-card">
      <span class="panelcorp-stat-icon">üß†</span>
      <span class="panelcorp-stat-label">Flujos</span>
      <span class="panelcorp-stat-value pending">0 activos</span>
    </div>

    <div class="panelcorp-stat-card">
      <span class="panelcorp-stat-icon">üë•</span>
      <span class="panelcorp-stat-label">Equipo</span>
      <span class="panelcorp-stat-value ok">1 usuario</span>
    </div>

  </div>

  <!-- PRIMEROS PASOS (ONBOARDING) -->
  <div class="panelcorp-home-onboarding">

    <h3>Primeros pasos</h3>

    <ul class="panelcorp-onboarding-list">
      <li class="pending">Conectar WhatsApp</li>
      <li class="pending">Configurar IA</li>
      <li class="pending">Crear primer flujo</li>
      <li class="pending">Probar una conversaci√≥n</li>
    </ul>

    <button class="panelcorp-home-cta">
      Ir a configuraci√≥n inicial
    </button>

  </div>

  <!-- ESTADO FINAL (oculto por ahora)
  <div class="panelcorp-home-complete">
    <span class="panelcorp-complete-icon">‚úÖ</span>
    <h3>Sistema operativo</h3>
    <p>Todo est√° configurado y funcionando correctamente.</p>
  </div>
  -->

</section>


      <section id="corp-ia" class="panelcorp-view">

  <!-- HEADER -->
  <header class="panelcorp-ia-header">
    <h1>IA / Automatizaci√≥n</h1>
    <p>Configura el cerebro de tu asistente: identidad, reglas y comportamiento.</p>
  </header>

  <!-- 1) IDENTIDAD -->
  <div class="panelcorp-ia-card required">
    <h3>üè¢ Identidad del negocio</h3>
    <p class="panelcorp-ia-desc">
      Base para que tu asistente responda como parte de tu empresa.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Nombre del negocio</label>
        <input id="ia_business_name" type="text" placeholder="Ej. Cl√≠nica Nova" />
      </div>

      <div class="panelcorp-field">
        <label>Giro o tipo de negocio</label>
        <input id="ia_business_type" type="text" placeholder="Ej. Cl√≠nica dental, gym, abarrotes" />
      </div>

      <div class="panelcorp-field">
        <label>Qu√© ofrece (servicios / productos principales)</label>
        <input id="ia_business_offers" type="text" placeholder="Ej. Limpiezas, ortodoncia, blanqueamiento" />
      </div>

      <div class="panelcorp-field">
        <label>Tipo de clientes</label>
        <input id="ia_business_clients" type="text" placeholder="Ej. Familias, empresas, prospectos" />
      </div>
    </div>
  </div>

  <!-- 2) OBJETIVO -->
  <div class="panelcorp-ia-card">
    <h3>üéØ Objetivo del asistente</h3>
    <p class="panelcorp-ia-desc">
      Define qu√© debe priorizar en cada conversaci√≥n.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Prioridad principal</label>
        <select id="ia_primary_goal">
          <option value="informar">Informar</option>
          <option value="capturar">Capturar prospectos</option>
          <option value="agendar">Agendar citas / seguimiento</option>
          <option value="ventas">Preparar ventas / cierre</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>Acci√≥n final esperada</label>
        <select id="ia_expected_outcome">
          <option value="datos">Obtener datos del cliente</option>
          <option value="cita">Dejar cita/seguimiento listo</option>
          <option value="humano">Derivar a un humano</option>
          <option value="info">Resolver con informaci√≥n</option>
        </select>
      </div>
    </div>
  </div>

  <!-- 3) COMUNICACI√ìN -->
  <div class="panelcorp-ia-card">
    <h3>üó£Ô∏è Forma de comunicaci√≥n</h3>
    <p class="panelcorp-ia-desc">
      Ajusta el tono y la iniciativa del asistente.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Tono</label>
        <select id="ia_tone">
          <option value="profesional">Profesional</option>
          <option value="cercano">Cercano</option>
          <option value="formal">Formal</option>
          <option value="relajado">Relajado</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>Nivel de iniciativa</label>
        <select id="ia_initiative">
          <option value="reactivo">Reactivo (solo responde lo que preguntan)</option>
          <option value="guiado">Guiado (hace 1-2 preguntas para avanzar)</option>
          <option value="proactivo">Proactivo (lidera para lograr el objetivo)</option>
        </select>
      </div>
    </div>
  </div>

  <!-- 4) HORARIOS -->
  <div class="panelcorp-ia-card">
    <h3>üïí Horarios y disponibilidad</h3>
    <p class="panelcorp-ia-desc">
      Define cu√°ndo el asistente opera como negocio activo y qu√© hacer fuera de horario.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Respuestas fuera de horario</label>
        <select id="ia_after_hours_mode">
          <option value="normal">Responder normalmente</option>
          <option value="cerrado">Responder ‚ÄúEstamos cerrados‚Äù</option>
          <option value="datos">Tomar datos del cliente</option>
          <option value="agendar">Agendar contacto para despu√©s</option>
          <option value="escalar">Escalar a un humano</option>
          <option value="off">No responder</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>Horario de atenci√≥n (texto)</label>
        <input id="ia_business_hours" type="text" placeholder="Ej. Lun‚ÄìVie 9:00‚Äì18:00, S√°b 9:00‚Äì14:00" />
      </div>

      <div class="panelcorp-field">
        <label>Mensaje fuera de horario</label>
        <input id="ia_after_hours_message" type="text" placeholder="Ej. Gracias, estamos cerrados. Te contactamos ma√±ana." />
      </div>

      <div class="panelcorp-field">
        <label>Datos a pedir fuera de horario</label>
        <input id="ia_after_hours_fields" type="text" placeholder="Ej. Nombre, motivo, tel√©fono, horario preferido" />
      </div>
    </div>
  </div>

  <!-- 5) L√çMITES / ESCALAMIENTO -->
  <div class="panelcorp-ia-card">
    <h3>üö® L√≠mites y escalamiento</h3>
    <p class="panelcorp-ia-desc">
      Define cu√°ndo la IA debe pasar la conversaci√≥n a tu equipo.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Escalar cuando</label>
        <select id="ia_escalate_when">
          <option value="pide_humano">El cliente pide hablar con una persona</option>
          <option value="no_se_puede">La solicitud requiere atenci√≥n humana</option>
          <option value="enojo">Cliente molesto / conflicto</option>
          <option value="cierre">Quiere cerrar compra / pago</option>
        </select>
      </div>

      <div class="panelcorp-field">
        <label>Contacto para escalar (correo o WhatsApp interno)</label>
        <input id="ia_escalation_contact" type="text" placeholder="Ej. ventas@tuempresa.com / +52 55..." />
      </div>

      <div class="panelcorp-field">
        <label>Qu√© debe enviar al humano (resumen)</label>
        <input id="ia_escalation_summary" type="text" placeholder="Ej. Nombre, necesidad, urgencia, conversaci√≥n resumida" />
      </div>
    </div>
  </div>

  <!-- 6) RESULTADO ESPERADO -->
  <div class="panelcorp-ia-card">
    <h3>‚úÖ Resultado esperado</h3>
    <p class="panelcorp-ia-desc">
      Qu√© debe intentar lograr antes de cerrar una conversaci√≥n.
    </p>

    <div class="panelcorp-ia-fields">
      <div class="panelcorp-field">
        <label>Regla principal (1 frase)</label>
        <input id="ia_main_rule" type="text" placeholder="Ej. Captura datos y ofrece agendar antes de escalar." />
      </div>

      <div class="panelcorp-field">
        <label>Reglas extra (opcional)</label>
        <input id="ia_extra_rules" type="text" placeholder="Ej. No inventes precios. Si no sabes, pide datos y escala." />
      </div>

      <div class="panelcorp-field">
        <label>Encendido del asistente</label>
        <select id="ia_enabled">
          <option value="true">Activo</option>
          <option value="false">Inactivo</option>
        </select>
      </div>
    </div>
  </div>

  <!-- ACCIONES -->
  <div class="panelcorp-ia-actions">
    <button id="ia_save_btn" class="panelcorp-home-cta">
      Guardar configuraci√≥n
    </button>
    <span id="ia_status" class="panelcorp-ia-status"></span>
  </div>

</section>


      <section id="corp-whatsapp" class="panelcorp-view">
        <h1>WhatsApp / Mail</h1>
        <p>N√∫mero, plantillas, estado, webhooks</p>
      </section>

      <section id="corp-flows" class="panelcorp-view">
        <h1>Flujos</h1>
        <p>Automatizaciones por etapas</p>
      </section>

      <section id="corp-quotes" class="panelcorp-view">
        <h1>Cotizaciones</h1>
        <p>Generaci√≥n autom√°tica por reglas</p>
      </section>

      <section id="corp-team" class="panelcorp-view">
        <h1>Equipo</h1>
        <p>Usuarios, roles y permisos</p>
      </section>

      <section id="corp-analytics" class="panelcorp-view">
        <h1>Anal√≠tica</h1>
        <p>M√©tricas reales de uso</p>
      </section>

      <section id="corp-subscription" class="panelcorp-view">
        <h1>Suscripci√≥n</h1>
        <p>Plan, pagos y facturaci√≥n</p>
      </section>

      <section id="corp-settings" class="panelcorp-view">
        <h1>Configuraci√≥n</h1>
        <p>Datos del negocio</p>
      </section>

    </main>
  </div>

<!-- =========================
     MODAL ‚Äî CREAR CONTRASE√ëA (POST-PAGO)
     ========================= -->
<div id="create-password-modal" class="modal-overlay" hidden>
  <div class="modal-card">

    <h2>Crear contrase√±a</h2>
    <p>Por seguridad, crea tu contrase√±a para acceder a tu panel.</p>

    <form id="create-password-form">

      <!-- NUEVA CONTRASE√ëA -->
      <div class="modal-field">
        <label>Nueva contrase√±a</label>

        <div class="modal-password-field">
          <input
            type="password"
            id="new-password"
            minlength="8"
            required
            placeholder="M√≠nimo 8 caracteres"
          />

          <button
            type="button"
            class="modal-password-toggle"
            data-target="new-password"
            aria-label="Mostrar u ocultar contrase√±a"
          >
            <img
              src="/assets/img/eye-closed.svg"
              alt="Mostrar contrase√±a"
            />
          </button>
        </div>
      </div>

      <!-- CONFIRMAR CONTRASE√ëA -->
      <div class="modal-field">
        <label>Confirmar contrase√±a</label>

        <div class="modal-password-field">
          <input
            type="password"
            id="confirm-password"
            minlength="8"
            required
            placeholder="Repite la contrase√±a"
          />

          <button
            type="button"
            class="modal-password-toggle"
            data-target="confirm-password"
            aria-label="Mostrar u ocultar contrase√±a"
          >
            <img
              src="/assets/img/eye-closed.svg"
              alt="Mostrar contrase√±a"
            />
          </button>
        </div>
      </div>

      <!-- ERROR -->
      <p id="create-password-error" class="modal-error" style="display:none;"></p>

      <!-- SUBMIT -->
      <div class="modal-actions">
        <button type="submit" class="btn-primary">
          Guardar contrase√±a
        </button>
      </div>

    </form>
  </div>
</div>



  <script src="/panelcorp.js"></script>
</body>
</html>
